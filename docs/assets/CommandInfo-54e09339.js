import{_ as Y}from"./ContentWithLeftSidebar.vue_vue_type_script_setup_true_lang-a41e36ea.js";import{d as Z,c as d,r as J,a as ee,o as i,b as I,w as a,e as _,f as h,F as g,g as t,t as s,h as e,u as v,i as S}from"./index-2e713869.js";import{_ as P,a as R,b as z,E as ae,c as te,d as oe,e as ne}from"./YamlDisplay.vue_vue_type_script_setup_true_lang-c1f8bd18.js";import{E as le}from"./el-button-19579d53.js";import{E as se,a as re}from"./el-menu-item-2860b1a4.js";import{_ as F,E as ie,a as me,b as ce}from"./JsonSchemaDisplay.vue_vue_type_script_setup_true_lang-760e527f.js";import{E as de}from"./el-divider-d622021b.js";/* empty css                */import{i as ue,s as G,a as L,n as pe,b as _e,E as ve}from"./index-bed3614f.js";import{u as he,g as fe}from"./project-e1fe0c16.js";import{_ as be}from"./MarkdownContent.vue_vue_type_script_setup_true_lang-8284fd6f.js";import"./index-18e993d7.js";import"./index-1b2fb638.js";import"./plugin-vue_export-helper-1cff8a04.js";import"./zipObject-a3e75837.js";import"./stringify-ec884b6d.js";import"./clone-a124ac39.js";import"./isUndefined-aa0326a0.js";import"./advancedFormat-3e79cc8e.js";import"./el-input-4ee82bf8.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-e09bc253.js";const ye={style:{position:"fixed","margin-top":"var(--top-bar-height)"}},ge={style:{color:"var(--command-color)","font-size":"1.2rem","margin-top":"var(--default-space)","margin-left":"var(--default-space)","margin-bottom":"var(--default-space)"}},Ne=t("strong",null,"General",-1),ke=t("strong",null,"Dependency Graph",-1),we=t("strong",null,"Invokes",-1),Ve=t("strong",null,"Get Invoked By",-1),Se=t("strong",null,"Subscribed By",-1),xe=t("strong",null,"In-/Output Schema",-1),Ie=t("div",{id:"general",class:"anchor"},null,-1),Te={style:{"margin-right":"5px","flex-grow":"1","margin-top":"0px"}},Ee={style:{color:"var(--el-text-color-secondary)"}},Ce={style:{"margin-bottom":"var(--default-space)","margin-top":"var(--default-space)"}},Be={key:1},Ae={key:1},Oe=t("div",{id:"dependency-graph",class:"anchor"},null,-1),De=t("div",{id:"it-invokes",class:"anchor"},null,-1),$e=t("h4",null,"Invokes",-1),je=t("div",{id:"invoked-by",class:"anchor"},null,-1),Je=t("h4",null,"Invoked by",-1),Pe=t("div",{id:"subscribed-by",class:"anchor"},null,-1),Re=t("h4",null,"Result subscribed by",-1),ze=t("div",{id:"schema",class:"anchor"},null,-1),Fe=t("h4",null,"In-/Output Schema",-1),Ge=t("h4",null,"Input",-1),Le=t("h4",null,"Output",-1),pa=Z({__name:"CommandInfo",props:{serviceName:{},serviceVersion:{},commandName:{},projectId:{}},setup(M){const m=M,N=he(),l=d(()=>N.getCommandByServiceAndName(m.serviceName,m.serviceVersion,m.commandName)),k=d(()=>fe(m.serviceName,m.serviceVersion,m.commandName)),f=d(()=>{var n;return(n=l.value)==null?void 0:n.inputSchema}),T=d(()=>{var n;return(n=l.value)==null?void 0:n.parameterSchema}),b=d(()=>{var n;return(n=l.value)==null?void 0:n.outputSchema}),E=J("tsTypes"),C=J("tsTypes"),U=d(()=>N.getCommandsInvokedBy(k.value)),W=d(()=>N.getInputNodes(k.value)),q=d(()=>N.getConsumingSubscriptions(k.value));return(n,w)=>{const u=ve,p=se,H=re,B=le,y=de,A=ie,K=me,Q=ce,r=ae,x=te,V=ee("RouterLink"),c=oe,O=ne,X=Y;return l.value?(i(),I(X,{key:0},{sidebar:a(()=>[t("div",ye,[t("div",ge,[t("strong",null,s(n.commandName),1)]),e(H,{style:{"border-right":"none !important",width:"240px","--el-menu-bg-color":"none"},router:!0},{default:a(()=>[e(p,{index:"#general"},{title:a(()=>[e(u,null,{default:a(()=>[e(v(ue))]),_:1}),Ne]),_:1}),e(p,{index:"#dependency-graph"},{title:a(()=>[e(u,null,{default:a(()=>[e(v(G))]),_:1}),ke]),_:1}),e(p,{index:"#it-invokes"},{title:a(()=>[e(u,null,{default:a(()=>[e(v(L))]),_:1}),we]),_:1}),e(p,{index:"#invoked-by"},{title:a(()=>[e(u,null,{default:a(()=>[e(v(L))]),_:1}),Ve]),_:1}),e(p,{index:"#subscribed-by"},{title:a(()=>[e(u,null,{default:a(()=>[e(v(pe))]),_:1}),Se]),_:1}),e(p,{index:"#schema"},{title:a(()=>[e(u,null,{default:a(()=>[e(v(G))]),_:1}),xe]),_:1}),e(p,{index:"#schema",style:{"margin-top":"var(--top-bar-height)"},route:{name:"serviceInfo",params:{serviceName:n.serviceName,serviceVersion:n.serviceVersion,projectId:n.projectId}}},{title:a(()=>[e(u,null,{default:a(()=>[e(v(_e))]),_:1}),t("strong",null,s(m.serviceName+" v"+m.serviceVersion),1)]),_:1},8,["route"])]),_:1})])]),content:a(()=>{var D,$;return[Ie,t("div",null,[t("h2",Te,[h(" Command "+s(m.commandName)+" ",1),l.value.deprecated?(i(),I(B,{key:0,effect:"dark",type:"danger",size:"large",style:{"margin-left":"var(--default-space)"}},{default:a(()=>[h("deprecated")]),_:1})):S("",!0)])]),t("div",Ee,s(((D=l.value)==null?void 0:D.description)||""),1),e(y),t("div",Ce,[e(K,{column:2,direction:"vertical"},{default:a(()=>[e(A,{label:"Publishes"},{default:a(()=>[l.value.eventName?(i(),I(B,{key:0,size:"large",type:"success",effect:"dark"},{default:a(()=>[h(s(l.value.eventName),1)]),_:1})):(i(),_("span",Be,"regular message without event name"))]),_:1}),e(A,{label:"REST-endpoint"},{default:a(()=>{var o,j;return[l.value.restApi?(i(),_(g,{key:0},[t("strong",null,s((o=l.value.restApi)==null?void 0:o.method)+":",1),h(" v"+s((n.serviceVersion+"/"+((j=l.value.restApi)==null?void 0:j.path)).replace("//","/")),1)],64)):(i(),_("span",Ae,"none"))]}),_:1})]),_:1})]),($=l.value.markdown)!=null&&$.trim().length?(i(),_(g,{key:0},[e(y),e(be,{markdown:l.value.markdown},null,8,["markdown"])],64)):S("",!0),e(y),Oe,t("h4",null,[h(" Dependency graph of command "),t("i",null,s(l.value.name),1)]),e(Q,{id:k.value},null,8,["id"]),De,$e,e(x,{data:U.value,style:{width:"100%"},"empty-text":"Command "+n.commandName+" does not invoke other known commands",stripe:"",border:"","table-layout":"auto",flexible:!0},{default:a(()=>[e(r,{prop:"serviceName",label:"Service",sortable:""}),e(r,{prop:"serviceVersion",label:"Version",sortable:""}),e(r,{prop:"serviceTarget",label:"Name",sortable:""})]),_:1},8,["data","empty-text"]),je,Je,e(x,{data:W.value,style:{width:"100%"},"empty-text":"Command "+n.commandName+" is not invoked by known commands or subscriptions",stripe:"",border:"","table-layout":"auto",flexible:!0},{default:a(()=>[e(r,{prop:"graphNodeType",label:"Type",style:{"border-left":"5px solid"},sortable:""}),e(r,{prop:"serviceName",label:"Service",sortable:""}),e(r,{prop:"serviceVersion",label:"Version",sortable:""},{default:a(o=>[e(V,{to:{name:"serviceInfo",params:{serviceName:o.row.serviceName,serviceVersion:o.row.serviceVersion}},style:{"text-decoration":"none",display:"block","text-align":"right"}},{default:a(()=>[t("strong",null,s(o.row.serviceVersion),1)]),_:2},1032,["to"])]),_:1}),e(r,{prop:"name",label:"Name",sortable:""},{default:a(o=>[e(V,{to:{name:o.row.graphNodeType+"Info",params:{serviceName:o.row.serviceName,serviceVersion:o.row.serviceVersion,[o.row.graphNodeType+"Name"]:o.row.name}},style:{"text-decoration":"none",display:"block"}},{default:a(()=>[t("strong",null,s(o.row.name),1)]),_:2},1032,["to"])]),_:1})]),_:1},8,["data","empty-text"]),Pe,Re,e(x,{data:q.value,style:{width:"100%"},"empty-text":"Success result of command "+n.commandName+" is not consumed by any known subscription",stripe:"",border:"","table-layout":"auto",flexible:!0},{default:a(()=>[e(r,{prop:"graphNodeType",label:"Type",sortable:""}),e(r,{prop:"serviceName",label:"Service",sortable:""}),e(r,{prop:"serviceVersion",label:"Version",sortable:""},{default:a(o=>[e(V,{to:{name:"serviceInfo",params:{serviceName:o.row.serviceName,serviceVersion:o.row.serviceVersion}},style:{"text-decoration":"none",display:"block","text-align":"right"}},{default:a(()=>[t("strong",null,s(o.row.serviceVersion),1)]),_:2},1032,["to"])]),_:1}),e(r,{prop:"name",label:"Name",sortable:""},{default:a(o=>[e(V,{to:{name:o.row.graphNodeType+"Info",params:{serviceName:o.row.serviceName,serviceVersion:o.row.serviceVersion,[o.row.graphNodeType+"Name"]:o.row.name}},style:{"text-decoration":"none",display:"block"}},{default:a(()=>[t("strong",null,s(o.row.name),1)]),_:2},1032,["to"])]),_:1})]),_:1},8,["data","empty-text"]),e(y),ze,Fe,f.value?(i(),_(g,{key:1},[Ge,e(O,{modelValue:E.value,"onUpdate:modelValue":w[0]||(w[0]=o=>E.value=o)},{default:a(()=>[e(c,{label:"Typescript",name:"tsTypes"},{default:a(()=>[e(P,{schema:f.value,parameter:T.value},null,8,["schema","parameter"])]),_:1}),e(c,{label:"OpenAPI-Schema",name:"openApiSchema"},{default:a(()=>[e(R,{schema:f.value},null,8,["schema"])]),_:1}),e(c,{label:"JSON-Schema",name:"jsonSchema"},{default:a(()=>[e(F,{schema:f.value},null,8,["schema"])]),_:1}),e(c,{label:"Example-Json",name:"example"},{default:a(()=>[e(z,{schema:f.value,parameter:T.value},null,8,["schema","parameter"])]),_:1})]),_:1},8,["modelValue"]),e(y)],64)):S("",!0),b.value?(i(),_(g,{key:2},[Le,e(O,{modelValue:C.value,"onUpdate:modelValue":w[1]||(w[1]=o=>C.value=o)},{default:a(()=>[e(c,{label:"Typescript",name:"tsTypes"},{default:a(()=>[e(P,{schema:b.value},null,8,["schema"])]),_:1}),e(c,{label:"OpenAPI-Schema",name:"openApiSchema"},{default:a(()=>[e(R,{schema:b.value},null,8,["schema"])]),_:1}),e(c,{label:"JSON-Schema",name:"jsonSchema"},{default:a(()=>[e(F,{schema:b.value},null,8,["schema"])]),_:1}),e(c,{label:"Example-Json",name:"example"},{default:a(()=>[e(z,{schema:b.value},null,8,["schema"])]),_:1})]),_:1},8,["modelValue"])],64)):S("",!0)]}),_:1})):(i(),_(g,{key:1},[h(" Command not found ")],64))}}});export{pa as default};
