import{v as ie,d as A,x as ce,y as ue,k as de,c as h,o as c,e as b,l as v,u as l,p as V,i as f,g as s,b as T,w as t,z as me,f as i,t as o,h as e,q as pe,A as _e,r as q,a as ve,F as C}from"./index-15c7c175.js";import{b as be,E as fe,a as he,c as ye,d as ge}from"./el-menu-item-edc0660f.js";import{E as we,c as Ne,_ as ke,d as Se,a as Ve,b as Te,e as xe}from"./YamlDisplay.vue_vue_type_script_setup_true_lang-bc84f091.js";import{E as Ee,a as Ie,b as $e,_ as Ce}from"./JsonSchemaDisplay.vue_vue_type_script_setup_true_lang-affdfea4.js";import{E as Be}from"./el-button-aa579aaa.js";import{_ as Pe}from"./MarkdownContent.vue_vue_type_script_setup_true_lang-bfa37a62.js";import{E as Q}from"./el-divider-4d5c4406.js";/* empty css                */import{f as De,E as W,i as Ae,s as Y,a as K,n as He}from"./index-7ce18fc0.js";import{u as Oe,a as ze}from"./project-78552745.js";import{i as Re}from"./index-c5cf7585.js";import{_ as Je}from"./plugin-vue_export-helper-1cff8a04.js";import"./isUndefined-aa0326a0.js";import"./zipObject-5ba28c7b.js";import"./index-a24752f3.js";import"./stringify-ec884b6d.js";import"./clone-5efd7704.js";import"./advancedFormat-c5811322.js";import"./el-input-64479b68.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./index-9b6e9674.js";const Me=ie({icon:{type:Re,default:()=>De},title:String,content:{type:String,default:""}}),je={back:()=>!0},Fe=["aria-label"],Ge=A({name:"ElPageHeader"}),Le=A({...Ge,props:Me,emits:je,setup(H,{emit:d}){const y=ce(),{t:I}=ue(),u=de("page-header"),n=h(()=>[u.b(),{[u.m("has-breadcrumb")]:!!y.breadcrumb,[u.m("has-extra")]:!!y.extra,[u.is("contentful")]:!!y.default}]);function N(){d("back")}return(r,B)=>(c(),b("div",{class:v(l(n))},[r.$slots.breadcrumb?(c(),b("div",{key:0,class:v(l(u).e("breadcrumb"))},[V(r.$slots,"breadcrumb")],2)):f("v-if",!0),s("div",{class:v(l(u).e("header"))},[s("div",{class:v(l(u).e("left"))},[s("div",{class:v(l(u).e("back")),role:"button",tabindex:"0",onClick:N},[r.icon||r.$slots.icon?(c(),b("div",{key:0,"aria-label":r.title||l(I)("el.pageHeader.title"),class:v(l(u).e("icon"))},[V(r.$slots,"icon",{},()=>[r.icon?(c(),T(l(W),{key:0},{default:t(()=>[(c(),T(me(r.icon)))]),_:1})):f("v-if",!0)])],10,Fe)):f("v-if",!0),s("div",{class:v(l(u).e("title"))},[V(r.$slots,"title",{},()=>[i(o(r.title||l(I)("el.pageHeader.title")),1)])],2)],2),e(l(Q),{direction:"vertical"}),s("div",{class:v(l(u).e("content"))},[V(r.$slots,"content",{},()=>[i(o(r.content),1)])],2)],2),r.$slots.extra?(c(),b("div",{key:0,class:v(l(u).e("extra"))},[V(r.$slots,"extra")],2)):f("v-if",!0)],2),r.$slots.default?(c(),b("div",{key:1,class:v(l(u).e("main"))},[V(r.$slots,"default")],2)):f("v-if",!0)],2))}});var Ue=Je(Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const qe=pe(Ue);const Ye={style:{position:"fixed"}},Ke={style:{"text-align":"center",color:"var(--subscription-color)","font-size":"1.2rem","margin-top":"var(--default-space)"}},Qe=s("strong",null,"General",-1),We=s("strong",null,"Dependency Graph",-1),Xe=s("strong",null,"Invokes",-1),Ze=s("strong",null,"Get Invoked By",-1),ea=s("strong",null,"Subscribed By",-1),aa=s("strong",null,"In-/Output Schema",-1),ta=s("div",{id:"general",class:"anchor"},null,-1),sa={style:{"margin-right":"5px","flex-grow":"1"}},na={style:{color:"var(--el-text-color-secondary)","margin-top":"5px"}},oa={style:{"margin-bottom":"var(--default-space)","margin-top":"var(--default-space)"}},ra={key:1},la={style:{}},ia=s("div",null,"Subscription definition",-1),ca=s("div",{id:"dependency-graph",class:"anchor"},null,-1),ua=s("div",{id:"it-invokes",class:"anchor"},null,-1),da=s("h4",null,"Invokes",-1),ma=s("div",{id:"invoked-by",class:"anchor"},null,-1),pa=s("h4",null,"Triggered by",-1),_a=s("div",{id:"subscribed-by",class:"anchor"},null,-1),va=s("h4",null,"Result subscribed by",-1),ba=s("div",{id:"schema",class:"anchor"},null,-1),fa=s("h4",null,"In-/Output Schema",-1),ha=s("h4",null,"Input",-1),ya=s("h4",null,"Output",-1),ja=A({__name:"SubscriptionInfo",props:{serviceName:{},serviceVersion:{},subscriptionName:{},projectId:{}},setup(H){const d=H,y=Oe(),I=_e(),u=()=>I.push({name:"serviceInfo",params:{serviceName:d.serviceName,serviceVersion:d.serviceVersion}}),n=h(()=>y.getSubscriptionByServiceAndName(d.serviceName,d.serviceVersion,d.subscriptionName)),N=h(()=>ze(d.serviceName,d.serviceVersion,d.subscriptionName)),r=h(()=>{var m;return(m=n.value)==null?void 0:m.inputSchema}),B=h(()=>{var m;return(m=n.value)==null?void 0:m.parameterSchema}),x=h(()=>{var m;return(m=n.value)==null?void 0:m.outputSchema}),O=q("tsTypes"),z=q("tsTypes"),X=h(()=>y.getCommandsInvokedBy(N.value)),Z=h(()=>y.getInputNodes(N.value)),ee=h(()=>y.getConsumingSubscriptions(N.value));return(m,$)=>{const ae=qe,k=W,S=fe,te=he,se=ye,P=Be,E=Q,p=Ee,R=Ie,ne=Pe,oe=$e,_=we,w=ve("RouterLink"),D=Ne,J=ke,g=Se,M=Ve,j=Ce,F=Te,G=xe,re=ge,le=be;return n.value?(c(),T(le,{key:0},{default:t(()=>[e(se,{class:"sidebar"},{default:t(()=>[s("div",Ye,[e(ae,{title:d.serviceName+" v"+d.serviceVersion,style:{"margin-left":"25px","margin-top":"60px"},onBack:u},null,8,["title"]),s("div",Ke,[s("strong",null,o(m.subscriptionName),1)]),e(te,{style:{"border-right":"none !important",width:"290px","--el-menu-bg-color":"none"},router:!0},{default:t(()=>[e(S,{index:"#general"},{title:t(()=>[e(k,null,{default:t(()=>[e(l(Ae))]),_:1}),Qe]),_:1}),e(S,{index:"#dependency-graph"},{title:t(()=>[e(k,null,{default:t(()=>[e(l(Y))]),_:1}),We]),_:1}),e(S,{index:"#it-invokes"},{title:t(()=>[e(k,null,{default:t(()=>[e(l(K))]),_:1}),Xe]),_:1}),e(S,{index:"#invoked-by"},{title:t(()=>[e(k,null,{default:t(()=>[e(l(K))]),_:1}),Ze]),_:1}),e(S,{index:"#subscribed-by"},{title:t(()=>[e(k,null,{default:t(()=>[e(l(He))]),_:1}),ea]),_:1}),e(S,{index:"#schema"},{title:t(()=>[e(k,null,{default:t(()=>[e(l(Y))]),_:1}),aa]),_:1})]),_:1})])]),_:1}),e(re,{style:{"margin-top":"var(--default-space)","margin-bottom":"60px","scroll-margin-top":"300px"}},{default:t(()=>{var L,U;return[ta,s("div",null,[s("h2",sa,[i(" Subscription "+o(d.subscriptionName)+" ",1),n.value.deprecated?(c(),T(P,{key:0,effect:"dark",type:"danger",size:"large",style:{"margin-left":"var(--default-space)"}},{default:t(()=>[i("deprecated")]),_:1})):f("",!0)])]),s("div",na,o(((L=n.value)==null?void 0:L.description)||""),1),e(E),s("div",oa,[e(R,{column:4,direction:"vertical"},{default:t(()=>[e(p,{label:"Publishes"},{default:t(()=>[n.value.eventName?(c(),T(P,{key:0,size:"large",type:"success",effect:"dark"},{default:t(()=>[i(o(n.value.eventName),1)]),_:1})):(c(),b("span",ra,"regular message without event name"))]),_:1}),e(p,{label:"Durable"},{default:t(()=>{var a;return[i(o((a=n.value.eventBridgeConfig)!=null&&a.durable?"yes":"no"),1)]}),_:1}),e(p,{label:"Acknowledge"},{default:t(()=>{var a;return[i(o((a=n.value.eventBridgeConfig)!=null&&a.autoacknowledge?"on start":"after success"),1)]}),_:1}),e(p,{label:"Shared"},{default:t(()=>{var a;return[i(o((a=n.value.eventBridgeConfig)!=null&&a.shared?"yes":"no"),1)]}),_:1})]),_:1})]),s("div",la,[ia,e(R,{column:3,direction:"horizontal",style:{"margin-top":"var(--default-space)"}},{default:t(()=>[e(p,{label:"Event name"},{default:t(()=>[i(o(n.value.subscribesTo.eventname),1)]),_:1}),e(p,{label:"Message type"},{default:t(()=>[i(o(n.value.subscribesTo.messageType||"any"),1)]),_:1}),e(p,{label:""}),e(p,{label:"Producer service"},{default:t(()=>{var a;return[i(o(((a=n.value.subscribesTo.sender)==null?void 0:a.name)||"any"),1)]}),_:1}),e(p,{label:"Producer version"},{default:t(()=>{var a;return[i(o(((a=n.value.subscribesTo.sender)==null?void 0:a.version)||"any"),1)]}),_:1}),e(p,{label:"Producer name"},{default:t(()=>{var a;return[i(o(((a=n.value.subscribesTo.sender)==null?void 0:a.target)||"any"),1)]}),_:1}),e(p,{label:"Receiver service"},{default:t(()=>{var a;return[i(o(((a=n.value.subscribesTo.receiver)==null?void 0:a.name)||"any"),1)]}),_:1}),e(p,{label:"Receiver version"},{default:t(()=>{var a;return[i(o(((a=n.value.subscribesTo.receiver)==null?void 0:a.version)||"any"),1)]}),_:1}),e(p,{label:"Receiver name"},{default:t(()=>{var a;return[i(o(((a=n.value.subscribesTo.receiver)==null?void 0:a.target)||"any"),1)]}),_:1})]),_:1})]),(U=n.value.markdown)!=null&&U.trim().length?(c(),b(C,{key:0},[e(E),e(ne,{markdown:n.value.markdown},null,8,["markdown"])],64)):f("",!0),e(E),ca,s("h4",null,[i(" Dependency graph of subscription "),s("i",null,o(n.value.name),1)]),e(oe,{id:N.value},null,8,["id"]),ua,da,e(D,{data:X.value,style:{width:"100%"},"empty-text":"Subscription "+m.subscriptionName+" does not invoke other known subscriptions",stripe:""},{default:t(()=>[e(_,{prop:"serviceName",label:"Service",width:"320",sortable:""}),e(_,{prop:"serviceVersion",label:"Version",width:"100",sortable:""},{default:t(a=>[e(w,{to:{name:"serviceInfo",params:{serviceName:a.row.serviceName,serviceVersion:a.row.serviceVersion}},style:{"text-decoration":"none"}},{default:t(()=>[s("strong",null,o(a.row.serviceVersion),1)]),_:2},1032,["to"])]),_:1}),e(_,{prop:"name",label:"Name",sortable:""},{default:t(a=>[e(w,{to:{name:"commandInfo",params:{serviceName:a.row.serviceName,serviceVersion:a.row.serviceVersion,commandName:a.row.name}},style:{"text-decoration":"none"}},{default:t(()=>[s("strong",null,o(a.row.name),1)]),_:2},1032,["to"])]),_:1})]),_:1},8,["data","empty-text"]),ma,pa,e(D,{data:Z.value,style:{width:"100%"},"empty-text":"Subscription "+m.subscriptionName+" is not invoked by known subscriptions or subscriptions",stripe:""},{default:t(()=>[e(_,{prop:"graphNodeType",label:"Type",width:"120",style:{"border-left":"5px solid"}}),e(_,{prop:"serviceName",label:"Service",width:"200",sortable:""}),e(_,{prop:"serviceVersion",label:"Version",width:"100",sortable:""},{default:t(a=>[e(w,{to:{name:"serviceInfo",params:{serviceName:a.row.serviceName,serviceVersion:a.row.serviceVersion}},style:{"text-decoration":"none"}},{default:t(()=>[s("strong",null,o(a.row.serviceVersion),1)]),_:2},1032,["to"])]),_:1}),e(_,{prop:"name",label:"Name",sortable:""},{default:t(a=>[e(w,{to:{name:a.row.graphNodeType+"Info",params:{serviceName:a.row.serviceName,serviceVersion:a.row.serviceVersion,[a.row.graphNodeType+"Name"]:a.row.name}},style:{"text-decoration":"none"}},{default:t(()=>[s("strong",null,o(a.row.name),1)]),_:2},1032,["to"])]),_:1}),e(_,{prop:"name",label:"Event",sortable:""},{default:t(a=>[e(w,{to:{name:a.row.graphNodeType+"Info",params:{serviceName:a.row.serviceName,serviceVersion:a.row.serviceVersion,[a.row.graphNodeType+"Name"]:a.row.name}},style:{"text-decoration":"none"}},{default:t(()=>[a.row.eventName&&a.row.eventName===n.value.subscribesTo.eventname?(c(),T(P,{key:0,size:"large",type:"success",effect:"dark"},{default:t(()=>[i(o(a.row.eventName),1)]),_:2},1024)):f("",!0)]),_:2},1032,["to"])]),_:1})]),_:1},8,["data","empty-text"]),_a,va,e(D,{data:ee.value,style:{width:"100%"},"empty-text":"Success result of subscription "+m.subscriptionName+" is not consumed by any known subscription",stripe:""},{default:t(()=>[e(_,{prop:"graphNodeType",label:"Type",width:"120"}),e(_,{prop:"serviceName",label:"Service",width:"200"}),e(_,{prop:"serviceVersion",label:"Version",width:"100"},{default:t(a=>[e(w,{to:{name:"serviceInfo",params:{serviceName:a.row.serviceName,serviceVersion:a.row.serviceVersion}},style:{"text-decoration":"none"}},{default:t(()=>[s("strong",null,o(a.row.serviceVersion),1)]),_:2},1032,["to"])]),_:1}),e(_,{prop:"name",label:"Name"},{default:t(a=>[e(w,{to:{name:a.row.graphNodeType+"Info",params:{serviceName:a.row.serviceName,serviceVersion:a.row.serviceVersion,[a.row.graphNodeType+"Name"]:a.row.name}},style:{"text-decoration":"none"}},{default:t(()=>[s("strong",null,o(a.row.name),1)]),_:2},1032,["to"])]),_:1})]),_:1},8,["data","empty-text"]),e(E),ba,fa,r.value?(c(),b(C,{key:1},[ha,e(G,{modelValue:O.value,"onUpdate:modelValue":$[0]||($[0]=a=>O.value=a)},{default:t(()=>[e(g,{label:"Typescript",name:"tsTypes"},{default:t(()=>[e(J,{schema:r.value,parameter:B.value},null,8,["schema","parameter"])]),_:1}),e(g,{label:"OpenAPI-Schema",name:"openApiSchema"},{default:t(()=>[e(M,{schema:r.value},null,8,["schema"])]),_:1}),e(g,{label:"JSON-Schema",name:"jsonSchema"},{default:t(()=>[e(j,{schema:r.value},null,8,["schema"])]),_:1}),e(g,{label:"Example-Json",name:"example"},{default:t(()=>[e(F,{schema:r.value,parameter:B.value},null,8,["schema","parameter"])]),_:1})]),_:1},8,["modelValue"]),e(E)],64)):f("",!0),x.value?(c(),b(C,{key:2},[ya,e(G,{modelValue:z.value,"onUpdate:modelValue":$[1]||($[1]=a=>z.value=a)},{default:t(()=>[e(g,{label:"Typescript",name:"tsTypes"},{default:t(()=>[e(J,{schema:x.value},null,8,["schema"])]),_:1}),e(g,{label:"OpenAPI-Schema",name:"openApiSchema"},{default:t(()=>[e(M,{schema:x.value},null,8,["schema"])]),_:1}),e(g,{label:"JSON-Schema",name:"jsonSchema"},{default:t(()=>[e(j,{schema:x.value},null,8,["schema"])]),_:1}),e(g,{label:"Example-Json",name:"example"},{default:t(()=>[e(F,{schema:x.value},null,8,["schema"])]),_:1})]),_:1},8,["modelValue"])],64)):f("",!0)]}),_:1})]),_:1})):(c(),b(C,{key:1},[i(" Subscription not found ")],64))}}});export{ja as default};
