import{a1 as P,a2 as T,r as y,a4 as j,u as R,c as g,M as A,a9 as $,j as z}from"./index-15c7c175.js";function h(e){return P()?(T(e),!0):!1}function b(e){return typeof e=="function"?e():R(e)}const O=typeof window<"u",D=()=>{};function I(e,n,o={}){const{immediate:t=!0}=o,r=y(!1);let i=null;function s(){i&&(clearTimeout(i),i=null)}function l(){r.value=!1,s()}function c(...f){s(),r.value=!0,i=setTimeout(()=>{r.value=!1,i=null,e(...f)},b(n))}return t&&(r.value=!0,O&&c()),h(l),{isPending:j(r),start:c,stop:l}}function w(e){var n;const o=b(e);return(n=o==null?void 0:o.$el)!=null?n:o}const x=O?window:void 0,L=O?window.navigator:void 0;function W(...e){let n,o,t,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,t,r]=e,n=x):[n,o,t,r]=e,!n)return D;Array.isArray(o)||(o=[o]),Array.isArray(t)||(t=[t]);const i=[],s=()=>{i.forEach(u=>u()),i.length=0},l=(u,d,p,v)=>(u.addEventListener(d,p,v),()=>u.removeEventListener(d,p,v)),c=A(()=>[w(n),b(r)],([u,d])=>{s(),u&&i.push(...o.flatMap(p=>t.map(v=>l(u,p,v,d))))},{immediate:!0,flush:"post"}),f=()=>{c(),s()};return h(f),f}function B(){const e=y(!1);return $()&&z(()=>{e.value=!0}),e}function C(e){const n=B();return g(()=>(n.value,!!e()))}function q(e={}){const{navigator:n=L,read:o=!1,source:t,copiedDuring:r=1500,legacy:i=!1}=e,s=["copy","cut"],l=C(()=>n&&"clipboard"in n),c=g(()=>l.value||i),f=y(""),u=y(!1),d=I(()=>u.value=!1,r);function p(){l.value?n.clipboard.readText().then(a=>{f.value=a}):f.value=M()}if(c.value&&o)for(const a of s)W(a,p);async function v(a=b(t)){c.value&&a!=null&&(l.value?await n.clipboard.writeText(a):E(a),f.value=a,u.value=!0,d.start())}function E(a){const m=document.createElement("textarea");m.value=a??"",m.style.position="absolute",m.style.opacity="0",document.body.appendChild(m),m.select(),document.execCommand("copy"),m.remove()}function M(){var a,m,_;return(_=(m=(a=document==null?void 0:document.getSelection)==null?void 0:a.call(document))==null?void 0:m.toString())!=null?_:""}return{isSupported:c,text:f,copied:u,copy:v}}var S=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,V=(e,n)=>{var o={};for(var t in e)F.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&S)for(var t of S(e))n.indexOf(t)<0&&N.call(e,t)&&(o[t]=e[t]);return o};function G(e,n,o={}){const t=o,{window:r=x}=t,i=V(t,["window"]);let s;const l=C(()=>r&&"ResizeObserver"in r),c=()=>{s&&(s.disconnect(),s=void 0)},f=g(()=>Array.isArray(e)?e.map(p=>w(p)):[w(e)]),u=A(f,p=>{if(c(),l.value&&r){s=new ResizeObserver(n);for(const v of p)v&&s.observe(v,i)}},{immediate:!0,flush:"post",deep:!0}),d=()=>{c(),u()};return h(d),{isSupported:l,stop:d}}export{G as a,q as u};
